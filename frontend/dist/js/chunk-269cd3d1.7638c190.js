(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-269cd3d1"],{"0158":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"content"}},[a("h1",[t._v("Magic Screen 管理")]),a("a-list",{attrs:{grid:{gutter:6,column:3},dataSource:t.data},scopedSlots:t._u([{key:"renderItem",fn:function(e){return a("a-list-item",{},[a("a-card",{attrs:{headStyle:t.styleobj}},[a("img",{attrs:{slot:"cover",alt:"example",src:t.api+e.pic_dir},slot:"cover"}),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("a-icon",{attrs:{type:"edit"},on:{click:function(a){return t.edit_card(e.id,e.pic_name)}}}),a("a-icon",{attrs:{type:"delete"},on:{click:function(a){return t.delete_card(e.id)}}})],1),a("a-card-meta",{attrs:{title:e.pic_name}}),a("a-modal",{attrs:{title:"编辑图片",visible:t.visible,confirmLoading:t.confirmLoading,centered:!0,cancelText:"取消修改",okText:"确认修改"},on:{ok:function(a){return t.handleOk(e.id)},cancel:t.handleCancel}},[a("p",[a("a-icon",{attrs:{type:"edit"}}),t._v(" "+t._s(t.ModalText))],1),a("a-input",{attrs:{placeholder:t.currentName},model:{value:t.currentName,callback:function(e){t.currentName=e},expression:"currentName"}})],1)],2)],1)}}])}),a("a-upload-dragger",{attrs:{id:"upload_file",name:"file",multiple:!0,action:t.api+"/Pics/upload_pic"},on:{change:t.handleChange}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("a-icon",{attrs:{type:"inbox"}})],1),a("p",{staticClass:"ant-upload-text"},[t._v("点击此处或拖动文件到这里来上传")]),a("p",{staticClass:"ant-upload-hint"},[t._v("一次一个或者多个文件都可以")])]),a("a-button-group",{attrs:{id:"btn_grp"}},[a("a-button",{attrs:{type:"primary"},on:{click:t.go_to_show}},[t._v("开始展示")]),a("a-button",{attrs:{type:"primary"},on:{click:t.info}},[a("a-icon",{attrs:{type:"info"}})],1)],1)],1)},i=[],c=(a("7f7f"),{name:"Manage",data:function(){return{data:[],api:"http://ibeta.dev",ModalText:"在这里修改你想设置的图片名称",visible:!1,confirmLoading:!1,currentName:"default",styleobj:{height:"10px"}}},beforeCreate:function(){var t=this;this.$http.get("/Pics/get_all_pics").then(function(e){t.data=e,console.log(e.status)})},methods:{edit_card:function(t,e){this.visible=!0,this.currentName=e},handleOk:function(t){var e=this;console.log(t),this.ModalText="在这里输入你想设置的图片名称：",this.confirmLoading=!0,setTimeout(function(){e.visible=!1,e.confirmLoading=!1,e.$http.get("/Pics/edit_pic?id="+t+"&name="+e.currentName).then(function(t){e.data=t,console.log(t.status),e.$http.get("/Pics/get_all_pics").then(function(t){e.data=t,console.log(t.status)})})},2e3)},handleCancel:function(t){var e=this;this.$http.get("/Pics/get_all_pics").then(function(t){e.data=t,console.log(t.status)}),this.visible=!1},delete_card:function(t){var e=this;this.$http.get("/Pics/delete_one_pic?id="+t).then(function(t){e.data=t,console.log(t.status),e.$http.get("/Pics/get_all_pics").then(function(t){e.data=t,console.log(t.status)})})},info:function(){this.$message.info("Build For TechMan By Sunbelife")},handleChange:function(t){var e=this,a=t.file.status;"uploading"!==a&&console.log(t.file,t.fileList),"done"===a?(this.$http.get("/Pics/get_all_pics").then(function(t){e.data=t,console.log(t.status)}),this.$message.success("".concat(t.file.name," 文件上传完毕。"))):"error"===a&&this.$message.error("".concat(t.file.name," 文件上传失败。"))},go_to_show:function(){this.$router.push({path:"/show"})}}}),o=c,s=(a("04cb"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"49e68cd5",null);e["default"]=l.exports},"04cb":function(t,e,a){"use strict";var n=a("0c5d"),i=a.n(n);i.a},"0c5d":function(t,e,a){},"7f7f":function(t,e,a){var n=a("86cc").f,i=Function.prototype,c=/^\s*function ([^ (]*)/,o="name";o in i||a("9e1e")&&n(i,o,{configurable:!0,get:function(){try{return(""+this).match(c)[1]}catch(t){return""}}})}}]);